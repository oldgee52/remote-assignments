<!doctype html>
<html lang="en">

	<head>
	    <meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <title>Week3 Assignment 3</title>
	    <script>
	        //相同程式碼利用function重複利用
	        function ajax (id, url, number) {
				const xhr =new XMLHttpRequest();
				xhr.onload = function () {
					document.getElementById(id).innerHTML = this.responseText;
				}
				xhr.open('GET', url + number);
				xhr.send();
			};
			//使用function ajax取得 10的答案
			ajax('sumOfTen', 'http://localhost:3000/getData?number=', 10);
	    </script>
	</head>

	<body>
	    <h1>Week3 Assignment 3</h1>
	    <h2> This is an example: Input 10 </h2>
	    <div id="sumOfTen" style="font-size: 20px;">
	    </div>
	    <hr>
	    <h2>Try it!</h2>
	    <h4>Input a positive integer</h4>
	    <input type="text" id="numberInput">
	    <button type="submit" onclick="calculate ()">Submit</button>
	    <div id="sum" style="font-size: 20px;padding-top: 10px;"></div>
	    <script>
	    //如果把const numberInput = document.getElementById("numberInput").value在function外宣告value回傳都會是null 
	    //(why??→因在還沒觸發fuctionf前就宣告document.getElementById("numberInput").value等於是還沒輸入就取得值，所以永遠都是null )
	    //調整如下即可
	    const numberInput = document.getElementById("numberInput")
	    //在calculate中使用 ajax取得input value的答案
	    function calculate() {
	        ajax('sum', 'http://localhost:3000/getData?number=', numberInput.value);
	    };
	    </script>
	</body>
</html>